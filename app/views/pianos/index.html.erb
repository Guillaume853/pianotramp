

<div class="container">
 <h2>voici la liste des pianos</h2>
  <div class="row">
    <div class="col-xs-12 col-sm-6">
      <%= render "listing" %>
    </div>
    <div class="col-xs-12 col-sm-6">
      <div id="map" style="width: 100%; height: 400px;">
      </div>
      <script type="text/javascript" src=<%= @gmap %> ></script>

      <script type="text/javascript">

        var latitude =  48.8609573 ;
        var longitude = 2.32164548 ;

        var myLatlng = new google.maps.LatLng(latitude,longitude);


        var myOptions = {
            zoom: 12,
            center: myLatlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            styles: []
        };

        var map = new google.maps.Map(document.getElementById('map'), myOptions);

        <% @pianos.each do |piano| %>
          var latitude =  <%= piano.latitude %> ;
          var longitude = <%= piano.longitude %> ;
          var Latlng = new google.maps.LatLng(latitude, longitude);

          var marker = new google.maps.Marker({
                position: Latlng,
                map: map,
            });
        <% end %>

      </script>
    </div>
  </div>


</div>
